# 48h matrix run Q4: compact model, very CE-heavy objective
defaults:
  - base/default

experiment:
  name: surface_unet3d_q4
  description: Q4 compact UNet3D, dice_ce 0.1/0.9, seed 2026

model:
  architecture: unet3d
  spatial_dims: 3
  in_channels: 1
  out_channels: 3
  channels: [16, 32, 64, 128, 256]
  strides: [2, 2, 2, 2]

data:
  processed_dir: data/processed_3d
  patch_size: [160, 160, 160]
  mask_mode: multiclass
  samples_per_volume: 700
  val_samples_per_volume: 100
  augment: true

training:
  batch_size: 1
  learning_rate: 1.5e-4
  weight_decay: 1e-4
  epochs: 60
  num_workers: 4
  mixed_precision: false
  scheduler: cosine_warmup
  gradient_accumulation: 4
  seed: 2026

logging:
  save_interval: 10

loss:
  type: dice_ce
  dice_weight: 0.1
  ce_weight: 0.9
