# 3D UNet tuned run for surface detection
defaults:
  - base/default

experiment:
  name: surface_unet3d_tuned
  description: Larger UNet3D, more samples, focal-heavy CE balance

model:
  architecture: unet3d
  spatial_dims: 3
  in_channels: 1
  out_channels: 3
  channels: [32, 64, 128, 256, 512]
  strides: [2, 2, 2, 2]

data:
  processed_dir: data/processed_3d
  patch_size: [160, 160, 160]
  mask_mode: multiclass
  samples_per_volume: 800
  val_samples_per_volume: 120
  augment: true

training:
  batch_size: 1
  learning_rate: 3e-4
  weight_decay: 1e-4
  epochs: 60
  num_workers: 4
  mixed_precision: false
  scheduler: cosine_warmup
  gradient_accumulation: 4

logging:
  save_interval: 10

loss:
  type: dice_ce
  dice_weight: 0.2
  ce_weight: 0.8
